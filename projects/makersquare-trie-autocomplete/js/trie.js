var Node=function(a){a||(a={}),this.value=a.value,this.parent=a.parent,this.children=a.children||{},this.stop=a.stop},Trie=function(){this.head=new Node,this.insert=function(a){a&&0!==a.length&&this._insert(a,0,this.head)},this._insert=function(a,b,c){var d=a[b],e=a.length-1===b;if(c.children[d])child=c.children[d],e?child.stop=!0:this._insert(a,b+1,child);else{var f=new Node({value:d,parent:c,stop:e});c.children[d]=f,e||this._insert(a,b+1,f)}},this.includes=function(a){return a&&0!==a.length?this.zzz(a,this.head):!1},this. zzz =function(a,b){if(1===a.length&&b&&b.children[a])return b.children[a].stop;var c=b.children[a[0]];return c?this.zzz(a.substring(1,a.length),c):!1},this.search=function(a){var b=this.findLastNode(a),c=this.zz(b),d=[];a=a?a.substring(0,a.length-1):"";for(var e in c)d.push(a+c[e]);return d},this.findLastNode=function(a){return a&&0!==a.length?this._findLastNode(a,this.head):this.head},this._findLastNode=function(a,b){return b?0===a.length?b:this._findLastNode(a.substring(1,a.length),b.children[a[0]]):null},this.zz=function(a){if(!a)return[];if(this.isEmpty(a.children))return a.value?[a.value]:[];var b=[];for(var c in a.children){var d=a.children[c],e=this.zz(d);for(var f in e)a.value?b.push(a.value+e[f]):b.push(e[f])}return a.stop&&b.push(a.value),b},this.isEmpty=function(a){for(var b in a)return!1;return!0}};

